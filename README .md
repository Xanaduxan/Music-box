# Exam: Music Box

### Введение
Необходимо реализовать mvp музыкального сервиса. Зарегистрированные пользователи могут добавлять композиции (композиции состоят из названия, обложки и id пользователя). Пользователи могут создавать свои плейлисты из треков, ранее добавленных на сервер. Посетители сайта могут просматривать списки треков и плейлистов. Учтите, что есть детальные страницы обеих сущностей.
Авторизованные пользователи могут оставлять комментарии под плейлистами. Владельцы комментариев могут их редактировать.

*Важно:*
Делай  `git push`  только один раз (за 15 минут до окончания экзамена), в течение экзамена ничего пушить не нужно!

**Сначала прочитай всё задание целиком!***

Если не получается сделать какой-то релиз, переходи к следующему.

### Pre-release: Setup
Убедись, что в твоем проекте есть файл .gitignore, package.json и установлены все необходимые библиотеки. Создай базу данных. Проинициализируй eslint.

### Release 0: User Registration
Первое, что нужно сделать - это регистрация пользователей. Не забудь про шифрование паролей. Ты можешь использовать для этого [sha256](https://www.npmjs.com/package/sha256) или более продвинутую библиотеку [bcrypt](https://www.npmjs.com/package/bcrypt). Называй свои routings в стиле REST. Тебе поможет вот эта статья на Хабре: [REST API Best Practices](https://habr.com/post/351890/)

Добавь в шапку сайта ссылки на регистрацию и на домашнюю страницу. Реализуй регистрацию. У каждого пользователя обязательными полями будут **имя**, **email** и **пароль**. Если регистрация прошла успешно - пользователь **автоматически входит в систему** и перенаправляется на домашнюю страницу. Ссылка на регистрацию в меню заменяется кнопкой logout.


### Release 1: Login/Logout
Добавь в шапку сайта кнопку "login", ведущую на соответствующую страницу. Не забудь обрабатывать ошибки: если у пользователя не получается залогиниться - ему нужно знать причину. При успешном входе - вместо кнопки "login" должна появляться "logout". При нажатии на logout пользователь выходит из системы и оказывается на домашней странице. На данном этапе домашняя страница может быть пустой, позже на ней будут отображаться все треки и плейлисты, добавленные пользователями.



### Release 2: Add Track
Теперь сделай функционал для авторизованных пользователей, позволяющий добавлять треки на сайт. Создай страницу с формой добавления трека, обработчик (handler) на сервере и соответствующую модель в sequelize. У каждого трека обязательно должны быть **название, обложка и id пользователя**.
Добавь ссылку на добавление трека в навигационное меню в шапке сайта.

*Совет: в качестве обложки для трека можно использовать заглушку с [picsum.photos](https://picsum.photos/) или [placeholder.com](https://placeholder.com/)*

### Release 3: List Track
Сделай так, чтобы на главной странице были видны все добавленные треки и плейлисты

### Release 4: Add PlayList
Реализуй страницу добавления плейлиста. После того как плейлист создан, в него можно добавить треки. 
- Каждый плейлист принадлежит только одному пользователю, котрый его создал.
- Только пользователь создавший плейлист может добавлять и удалять композиции внутри плейлиста.
- Только пользователь создавший плейлист может его удалить (при удалении плейлиста удаляются связи в промежуточной таблице, сами треки остаются в базе данных)


### Release 5: Comments and PlayLists
Создай детальную страницу плейлиста. Под плейлистом должны отображаться, треки, которые в него входят, а так же комментарии пользователей, а так же форма, в которой можно оставить комментарий. Пользователь, оставивший комментрий, может удалить его или отредактировать.


### Release 6: Notification*
Необходимо оповестить владельца плейлиста, о добавлении комментария. Для этого используй webSocket. В шапке сайта должно появиться название плейлиста под которым оставили комментарий.

### Release 7: Appropriate Behaviors per User and Route
Проанализируйте функциональность, которую вы уже реализовали. Все ли сделано верно с точки зрения логики, распределения ролей, удобства пользователя, безопасности?

* Каждый ли пользователь может добавлять треки и плейлисты на сайт, или только те, кто вошел в систему?
* Могут ли неавторизованные пользователи редактировать плейлисты, треки, комментарии? А по прямой ссылке?)
* Можно ли редактировать чужие плейлисты?
* Могут ли пользователи редактировать и удалять свои плейлисты и комментарии? А чужие?
